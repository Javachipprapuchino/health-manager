<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties> 
    <entry key="insertData">
        INSERT 
          INTO USER_INFO A
        ( 
          A.USER_CODE
        , A.USER_ID
        , A.USER_PWD
        , A.USER_NICKNAME 
        , A.USER_EXP
          
        )
    	VALUES
    	(
    	  SEQ_USER_CODE.NEXTVAL
    	, ?
    	, ?
    	, ?
    	, default
    	)
    </entry>
        <entry key="checkId">
        SELECT
               COUNT(*)
          FROM USER_INFO A
         WHERE A.USER_ID = ? 
    </entry>
    <entry key="loginConfirm">
        SELECT
               A.LOGIN_YN
             , A.USER_PWD
          FROM USER_INFO A
         WHERE A.USER_ID = ?
    </entry>
    <entry key="totalCounting">
       UPDATE USER_EX_ED
          SET COUNT = (SELECT SUM(E.COUNT + I.COUNTING)
                         FROM USER_EX_ED E
                         JOIN USER_EX_ING I ON(E.EX_CODE = I.ING_CODE)
                        WHERE E.USER_ID = ?
                          AND E.EX_CODE = ?)
      WHERE USER_ID = ?
        AND EX_CODE = ?
    </entry>
    
    <entry key="selectExName">
        SELECT
               EX_CODE
          FROM EXERCISE
         WHERE EX_NAME = ?
    </entry>
    
    <entry key="deleteCount">
        DELETE 
          FROM USER_EX_ING
         WHERE USER_ID = ?
           AND ING_CODE = ?
    </entry>
    <entry key="deleteCount">
        DELETE 
          FROM USER_EX_ING
         WHERE USER_ID = ?
           AND ING_CODE = ?
    </entry>
    <entry key="selectEx">
 SELECT
          B.EX_NAME
        , A.COUNTING

          FROM USER_EX_ING A 
         
          JOIN EXERCISE B ON(A.ING_CODE = B.EX_CODE)
        WHERE A.USER_ID =?
        ORDER BY B.EX_CODE DESC
    </entry>
    <entry key="changeLoginInformation">
        UPDATE 
               USER_INFO A
           SET A.LOGIN_YN = 'Y'
         WHERE A.USER_ID = ?
    </entry>
    <entry key="updateInformation">
        SELECT
               B.EX_NAME
             , A.COUNT
          FROM USER_EX_ED A
          JOIN EXERCISE B ON A.EX_CODE = B.EX_CODE
         WHERE A.USER_ID = ?
    </entry>
    <entry key="showExp">
        SELECT
              A.USER_NICKNAME
            , A.USER_EXP 
         FROM USER_INFO A
        WHERE USER_ID = ?    
    </entry>
    
</properties>

